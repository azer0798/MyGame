<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حساب العمر بدقة | أحسب عمري بالميلادي والهجري - WassitDZ</title>
    <meta name="description" content="أفضل أداة لحساب العمر بدقة بالسنوات، الأشهر، والأيام. تعرف على تاريخ ميلادك بالهجري والوقت المتبقي لعيد ميلادك القادم.">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-color: #007bff; --secondary-bg: #f4f7f6; }
        body { background-color: var(--secondary-bg); font-family: 'Cairo', sans-serif; }
        .main-card { background: #fff; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); padding: 30px; border-top: 6px solid var(--primary-color); }
        .result-section { display: none; border-top: 2px solid #eee; margin-top: 25px; padding-top: 25px; }
        .stat-box { background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; margin-bottom: 15px; transition: 0.3s; }
        .stat-box:hover { background: #e9ecef; }
        .big-number { font-size: 2rem; font-weight: bold; color: var(--primary-color); display: block; }
        .ad-placeholder { background: #fafafa; border: 1px dashed #ddd; padding: 20px; text-align: center; margin: 20px 0; border-radius: 8px; font-size: 13px; color: #999; }
        .btn-calculate { background: var(--primary-color); color: white; padding: 12px; font-weight: bold; width: 100%; border-radius: 10px; border: none; font-size: 1.1rem; }
        .btn-calculate:hover { background: #0056b3; }
        .info-text { font-size: 0.9rem; color: #666; line-height: 1.8; }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            
            <div class="ad-placeholder">إعلان علوي (AdSense)</div>

            <div class="main-card">
                <h1 class="h4 text-center fw-bold mb-4">حساب العمر باليوم والشهر والسنة</h1>
                
                <div class="mb-4">
                    <label class="form-label fw-bold">تاريخ الميلاد (ميلادي):</label>
                    <input type="date" id="birthdate" class="form-control form-control-lg">
                </div>
                
                <button onclick="calculateEverything()" class="btn-calculate">إحسب الآن</button>

                <div id="resultArea" class="result-section animate__animated animate__fadeIn">
                    <div class="alert alert-primary text-center">
                        عمرك الآن: <br>
                        <span id="txtAge" class="fw-bold fs-4"></span>
                    </div>

                    <div class="row g-2">
                        <div class="col-6">
                            <div class="stat-box">
                                <span class="small">التاريخ الهجري</span>
                                <span id="hijriDate" class="d-block fw-bold text-dark" style="font-size: 0.9rem;"></span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-box">
                                <span class="small">يوم الميلاد</span>
                                <span id="birthDay" class="d-block fw-bold text-dark"></span>
                            </div>
                        </div>
                    </div>

                    <h5 class="fw-bold mt-4 mb-3">تفاصيل إضافية:</h5>
                    <div class="row g-3">
                        <div class="col-4">
                            <div class="stat-box">
                                <span class="small">الأشهر</span>
                                <span id="totalMonths" class="big-number">0</span>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="stat-box">
                                <span class="small">الأسابيع</span>
                                <span id="totalWeeks" class="big-number">0</span>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="stat-box">
                                <span class="small">الأيام</span>
                                <span id="totalDays" class="big-number">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4 p-3 bg-light rounded-3 text-center">
                        <p class="mb-0">يفصلك عن عيد ميلادك القادم:</p>
                        <h4 class="fw-bold text-success"><span id="daysLeft">0</span> يوم</h4>
                    </div>
                </div>
            </div>

            <div class="ad-placeholder">إعلان سفلي</div>

            <div class="mt-4 info-text">
                <h2 class="h6 fw-bold">كيف يتم حساب العمر؟</h2>
                <p>تعتمد أداتنا على الحساب الزمني الدقيق للفوارق بين تاريخ اليوم وتاريخ ميلادك، مع مراعاة السنوات الكبيسة وفوارق الأيام في الأشهر الميلادية. كما نوفر لك تحويلاً فورياً لتاريخ ميلادك إلى التقويم الهجري.</p>
            </div>
        </div>
    </div>
</div>

<script>
function calculateEverything() {
    const input = document.getElementById('birthdate').value;
    if (!input) { alert("الرجاء اختيار تاريخ الميلاد"); return; }

    const birth = new Date(input);
    const now = new Date();

    // 1. حساب العمر الرئيسي
    let years = now.getFullYear() - birth.getFullYear();
    let months = now.getMonth() - birth.getMonth();
    let days = now.getDate() - birth.getDate();

    if (days < 0) {
        months--;
        days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
    }
    if (months < 0) {
        years--;
        months += 12;
    }

    // 2. إحصائيات إضافية
    const diffTime = Math.abs(now - birth);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    // 3. يوم الأسبوع
    const weekdays = ["الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"];
    
    // 4. التاريخ الهجري (باستخدام Intl API)
    const hijri = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
        day: 'numeric', month: 'long', year: 'numeric'
    }).format(birth);

    // 5. عيد الميلاد القادم
    let nextBday = new Date(now.getFullYear(), birth.getMonth(), birth.getDate());
    if (now > nextBday) nextBday.setFullYear(now.getFullYear() + 1);
    const daysToNext = Math.ceil((nextBday - now) / (1000 * 60 * 60 * 24));

    // عرض النتائج
    document.getElementById('resultArea').style.display = 'block';
    document.getElementById('txtAge').innerText = `${years} سنة، و${months} شهر، و${days} يوم`;
    document.getElementById('hijriDate').innerText = hijri;
    document.getElementById('birthDay').innerText = weekdays[birth.getDay()];
    document.getElementById('totalMonths').innerText = (years * 12) + months;
    document.getElementById('totalWeeks').innerText = Math.floor(diffDays / 7);
    document.getElementById('totalDays').innerText = diffDays.toLocaleString();
    document.getElementById('daysLeft').innerText = daysToNext;

    // تمرير تلقائي للنتائج
    window.scrollTo({ top: document.getElementById('resultArea').offsetTop, behavior: 'smooth' });
}
</script>

</body>
</html>
